<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>SelectorGadget • rvest</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="SelectorGadget">
<meta name="robots" content="noindex">
<script defer data-domain="rvest.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rvest</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.5.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/rvest.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/selectorgadget.html">SelectorGadget</a></li>
    <li><a class="dropdown-item" href="../articles/starwars-dynamic.html">Star Wars films (dynamic HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/starwars.html">Star Wars films (static HTML)</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/03/rvest-1-0-0/">Version 1.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2015/09/24/rvest-0-3-0/">Version 0.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2014/11/24/rvest-easy-web-scraping-with-r/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/rvest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>SelectorGadget</h1>
                        <h4 data-toc-skip class="author">Hadley
Wickham</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/rvest/blob/main/vignettes/articles/selectorgadget.Rmd" class="external-link"><code>vignettes/articles/selectorgadget.Rmd</code></a></small>
      <div class="d-none name"><code>selectorgadget.Rmd</code></div>
    </div>

    
    
<p>SelectorGadget is a JavaScript bookmarklet that allows you to
interactively figure out what css selector you need to extract desired
components from a page.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install it, open this page in your browser, and then drag the
following link to your bookmark bar:
<a href="javascript:(function()%7Bvar%20s=document.createElement('div');s.innerHTML='Loading...';s.style.color='black';s.style.padding='20px';s.style.position='fixed';s.style.zIndex='9999';s.style.fontSize='3.0em';s.style.border='2px%20solid%20black';s.style.right='40px';s.style.top='40px';s.setAttribute('class','selector_gadget_loading');s.style.background='white';document.body.appendChild(s);s=document.createElement('script');s.setAttribute('type','text/javascript');s.setAttribute('src','https://dv0akt2986vzh.cloudfront.net/unstable/lib/selectorgadget.js');document.body.appendChild(s);%7D)();" class="external-link">SelectorGadget</a>.</p>
</div>
<div class="section level2">
<h2 id="use">Use<a class="anchor" aria-label="anchor" href="#use"></a>
</h2>
<p>To use it, open the page you want to scrape, then:</p>
<ol style="list-style-type: decimal">
<li><p>Click the SelectorGadget entry in your bookmark bar.</p></li>
<li><p>Click on the element you want to select. SelectorGadget will make
a first guess at what css selector you want. It’s likely to be bad since
it only has one example to learn from, but it’s a start. Elements that
match the selector will be highlighted in yellow.</p></li>
<li><p>Click on elements that shouldn’t be selected. They will turn red.
Click on elements that <em>should</em> be selected. They will turn
green.</p></li>
<li><p>Iterate until only the elements you want are selected.
SelectorGadget isn’t perfect and sometimes won’t be able to find a
useful css selector. Sometimes starting from a different element
helps.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>For example, imagine we want to find the names of the movies listed
in <code><a href="../articles/starwars.html">vignette("starwars")</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rvest.tidyverse.org/">rvest</a></span><span class="op">)</span></span>
<span><span class="va">html</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_html.html">read_html</a></span><span class="op">(</span><span class="st">"https://rvest.tidyverse.org/articles/starwars.html"</span><span class="op">)</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li><p>Start by opening <a href="https://rvest.tidyverse.org/articles/starwars.html" class="uri">https://rvest.tidyverse.org/articles/starwars.html</a> in a
web browser.</p></li>
<li>
<p>Click on the SelectorGadget link in the bookmarks. The
SelectorGadget console will appear at the bottom of the screen, and
element currently under the mouse will be highlighted in orange.</p>
<p>&lt;img src=“selectorgadget-hover.png” alt=“A screenshot of the
starwars vignette with an orange box drawn around the top few lines of
the page. SelectorGadget reports”no valid path found”” /&gt;</p>
</li>
<li>
<p>Click on the movie name to select it. The element you selected
will be highlighted in green. SelectorGadget guesses which css selector
you want (<code>h2</code> in this case), and highlights all matches in
yellow (see total count equal to 7 as indicated on on the “Clear”
button).</p>
<p>&lt;img src=“selectorgadget-click.png” alt=“A screenshot of the
starwars vignette with an green box around the heading”Attack of the
Clones”. SelectorGadget reports that a css selector of “h2” selects this
element.” /&gt;</p>
</li>
<li>
<p>Scroll around the document to verify that we have selected all
the desired movie titles and nothing else. In this case, it looks like
SelectorGadget figured it out on the first try, and we can use the
selector in our R code:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">html</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/html_element.html">html_element</a></span><span class="op">(</span><span class="st">"h2"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/html_text.html">html_text2</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The Phantom Menace"</span></span></code></pre></div>
</li>
</ol>
<p>Now let’s try something a little more challenging: selecting all
paragraphs of the movie intro.</p>
<ol style="list-style-type: decimal">
<li>
<p>Start the same way as before, opening the website and then using
the SelectorGadget bookmark, but this time we click on the first
paragraph of the intro.</p>
<p>&lt;img src=“selectorgadget-too-many.png” alt=“A screenshot of the
starwars vignette with an green box around the paragraph that
begins”There is unrest in the Galactic Senate” Every other paragraph is
coloured yellow.” /&gt;</p>
</li>
<li>
<p>This obviously selects too many elements, so click on one of the
paragraphs that shouldn’t match. It turns red indicating that this
element shouldn’t be matched.</p>
<p>&lt;img src=“selectorgadget-remove.png” alt=“A screenshot of the
starwars vignette with an green box around the paragraph that
begins”There is unrest in the Galactic Senate” and a red box around the
sentence “Released: 2002-05-16”. The sentence giving the director is
unhiglighted and everything else is yellow. The discovered selector is
“.crawl p”.” /&gt;</p>
</li>
<li>
<p>This looks good, so we convert it to R code:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">html</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/html_element.html">html_elements</a></span><span class="op">(</span><span class="st">".crawl p"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/html_text.html">html_text2</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="va">_</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "Turmoil has engulfed the Galactic Republic. The taxation of trade routes to outlying star systems is in dispute."                                                                                                               </span></span>
<span><span class="co">#&gt; [2] "Hoping to resolve the matter with a blockade of deadly battleships, the greedy Trade Federation has stopped all shipping to the small planet of Naboo."                                                                         </span></span>
<span><span class="co">#&gt; [3] "While the Congress of the Republic endlessly debates this alarming chain of events, the Supreme Chancellor has secretly dispatched two Jedi Knights, the guardians of peace and justice in the galaxy, to settle the conflict…."</span></span>
<span><span class="co">#&gt; [4] "There is unrest in the Galactic Senate. Several thousand solar systems have declared their intentions to leave the Republic."</span></span></code></pre></div>
</li>
</ol>
<p>This is correct, but we’ve lost the connection between title and
intro. To fix this problem we need to take a step back and see if we can
find an element that identifies all the data for one movie. By carefully
hovering, we can figure out that the <code>section</code> selector seems
to do the job:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">films</span> <span class="op">&lt;-</span> <span class="va">html</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/html_element.html">html_elements</a></span><span class="op">(</span><span class="st">"section"</span><span class="op">)</span></span>
<span><span class="va">films</span></span>
<span><span class="co">#&gt; {xml_nodeset (7)}</span></span>
<span><span class="co">#&gt; [1] &lt;section&gt;&lt;h2 data-id="1"&gt;\nThe Phantom Menace\n&lt;/h2&gt;\n&lt;p&gt;\nRelea ...</span></span>
<span><span class="co">#&gt; [2] &lt;section&gt;&lt;h2 data-id="2"&gt;\nAttack of the Clones\n&lt;/h2&gt;\n&lt;p&gt;\nRel ...</span></span>
<span><span class="co">#&gt; [3] &lt;section&gt;&lt;h2 data-id="3"&gt;\nRevenge of the Sith\n&lt;/h2&gt;\n&lt;p&gt;\nRele ...</span></span>
<span><span class="co">#&gt; [4] &lt;section&gt;&lt;h2 data-id="4"&gt;\nA New Hope\n&lt;/h2&gt;\n&lt;p&gt;\nReleased: 197 ...</span></span>
<span><span class="co">#&gt; [5] &lt;section&gt;&lt;h2 data-id="5"&gt;\nThe Empire Strikes Back\n&lt;/h2&gt;\n&lt;p&gt;\n ...</span></span>
<span><span class="co">#&gt; [6] &lt;section&gt;&lt;h2 data-id="6"&gt;\nReturn of the Jedi\n&lt;/h2&gt;\n&lt;p&gt;\nRelea ...</span></span>
<span><span class="co">#&gt; [7] &lt;section&gt;&lt;h2 data-id="7"&gt;\nThe Force Awakens\n&lt;/h2&gt;\n&lt;p&gt;\nReleas ...</span></span></code></pre></div>
<p>Then we can get the title for each film:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">films</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/html_element.html">html_element</a></span><span class="op">(</span><span class="st">"h2"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/html_text.html">html_text2</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The Phantom Menace"      "Attack of the Clones"   </span></span>
<span><span class="co">#&gt; [3] "Revenge of the Sith"     "A New Hope"             </span></span>
<span><span class="co">#&gt; [5] "The Empire Strikes Back" "Return of the Jedi"     </span></span>
<span><span class="co">#&gt; [7] "The Force Awakens"</span></span></code></pre></div>
<p>And the contents of that intro:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">films</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/html_element.html">html_element</a></span><span class="op">(</span><span class="st">".crawl"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/html_text.html">html_text2</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="va">_</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Turmoil has engulfed the Galactic Republic. The taxation of trade routes to outlying star systems is in dispute.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Hoping to resolve the matter with a blockade of deadly battleships, the greedy Trade Federation has stopped all shipping to the small planet of Naboo.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; While the Congress of the Republic endlessly debates this alarming chain of events, the Supreme Chancellor has secretly dispatched two Jedi Knights, the guardians of peace and justice in the galaxy, to settle the conflict….</span></span></code></pre></div>
<p>This is a pretty common experience — SelectorGadget will get you
started finding useful selectors but you’ll often have to combine it
with other code.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer>
</body>
</html>
