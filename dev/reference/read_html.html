<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Static web scraping (with xml2) — read_html • rvest</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Static web scraping (with xml2) — read_html"><meta name="description" content="read_html() works by performing a HTTP request then parsing the HTML
received using the xml2 package. This is &quot;static&quot; scraping because it
operates only on the raw HTML file. While this works for most sites,
in some cases you will need to use read_html_live() if the parts of
the page you want to scrape are dynamically generated with javascript.
Generally, we recommend using read_html() if it works, as it will be
faster and more robust, as it has fewer external dependencies (i.e. it
doesn't rely on the Chrome web browser installed on your computer.)"><meta property="og:description" content="read_html() works by performing a HTTP request then parsing the HTML
received using the xml2 package. This is &quot;static&quot; scraping because it
operates only on the raw HTML file. While this works for most sites,
in some cases you will need to use read_html_live() if the parts of
the page you want to scrape are dynamically generated with javascript.
Generally, we recommend using read_html() if it works, as it will be
faster and more robust, as it has fewer external dependencies (i.e. it
doesn't rely on the Chrome web browser installed on your computer.)"><meta property="og:image" content="https://rvest.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="rvest.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rvest</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rvest.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/selectorgadget.html">SelectorGadget</a></li>
    <li><a class="dropdown-item" href="../articles/starwars-dynamic.html">Star Wars films (dynamic HTML)</a></li>
    <li><a class="dropdown-item" href="../articles/starwars.html">Star Wars films (static HTML)</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/03/rvest-1-0-0/">Version 1.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2015/09/24/rvest-0-3-0/">Version 0.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2014/11/24/rvest-easy-web-scraping-with-r/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/rvest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Static web scraping (with xml2)</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/rvest/blob/main/R/rvest-package.R" class="external-link"><code>R/rvest-package.R</code></a></small>
      <div class="d-none name"><code>read_html.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>read_html()</code> works by performing a HTTP request then parsing the HTML
received using the xml2 package. This is "static" scraping because it
operates only on the raw HTML file. While this works for most sites,
in some cases you will need to use <code><a href="read_html_live.html">read_html_live()</a></code> if the parts of
the page you want to scrape are dynamically generated with javascript.</p>
<p>Generally, we recommend using <code>read_html()</code> if it works, as it will be
faster and more robust, as it has fewer external dependencies (i.e. it
doesn't rely on the Chrome web browser installed on your computer.)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_html</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  encoding <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RECOVER"</span>, <span class="st">"NOERROR"</span>, <span class="st">"NOBLANKS"</span>, <span class="st">"HUGE"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Usually a string representing a URL. See <code><a href="http://xml2.r-lib.org/reference/read_xml.html" class="external-link">xml2::read_html()</a></code> for
other options.</p></dd>


<dt id="arg-encoding">encoding<a class="anchor" aria-label="anchor" href="#arg-encoding"></a></dt>
<dd><p>Specify a default encoding for the document. Unless
otherwise specified XML documents are assumed to be in UTF-8 or
UTF-16. If the document is not UTF-8/16, and lacks an explicit
encoding directive, this allows you to supply a default.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed on to methods.</p></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>Set parsing options for the libxml2 parser. Zero or more of</p><dl><dt>RECOVER</dt>
<dd><p>recover on errors</p></dd>

  <dt>NOENT</dt>
<dd><p>substitute entities</p></dd>

  <dt>DTDLOAD</dt>
<dd><p>load the external subset</p></dd>

  <dt>DTDATTR</dt>
<dd><p>default DTD attributes</p></dd>

  <dt>DTDVALID</dt>
<dd><p>validate with the DTD</p></dd>

  <dt>NOERROR</dt>
<dd><p>suppress error reports</p></dd>

  <dt>NOWARNING</dt>
<dd><p>suppress warning reports</p></dd>

  <dt>PEDANTIC</dt>
<dd><p>pedantic error reporting</p></dd>

  <dt>NOBLANKS</dt>
<dd><p>remove blank nodes</p></dd>

  <dt>SAX1</dt>
<dd><p>use the SAX1 interface internally</p></dd>

  <dt>XINCLUDE</dt>
<dd><p>Implement XInclude substitution</p></dd>

  <dt>NONET</dt>
<dd><p>Forbid network access</p></dd>

  <dt>NODICT</dt>
<dd><p>Do not reuse the context dictionary</p></dd>

  <dt>NSCLEAN</dt>
<dd><p>remove redundant namespaces declarations</p></dd>

  <dt>NOCDATA</dt>
<dd><p>merge CDATA as text nodes</p></dd>

  <dt>NOXINCNODE</dt>
<dd><p>do not generate XINCLUDE START/END nodes</p></dd>

  <dt>COMPACT</dt>
<dd><p>compact small text nodes; no modification of the tree allowed afterwards (will possibly crash if you try to modify the tree)</p></dd>

  <dt>OLD10</dt>
<dd><p>parse using XML-1.0 before update 5</p></dd>

  <dt>NOBASEFIX</dt>
<dd><p>do not fixup XINCLUDE xml:base uris</p></dd>

  <dt>HUGE</dt>
<dd><p>relax any hardcoded limit from the parser</p></dd>

  <dt>OLDSAX</dt>
<dd><p>parse using SAX2 interface before 2.7.0</p></dd>

  <dt>IGNORE_ENC</dt>
<dd><p>ignore internal document encoding hint</p></dd>

  <dt>BIG_LINES</dt>
<dd><p>Store big lines numbers in text PSVI field</p></dd>


</dl></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Start by reading a HTML page with read_html():</span></span></span>
<span class="r-in"><span><span class="va">starwars</span> <span class="op">&lt;-</span> <span class="fu">read_html</span><span class="op">(</span><span class="st">"https://rvest.tidyverse.org/articles/starwars.html"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Then find elements that match a css selector or XPath expression</span></span></span>
<span class="r-in"><span><span class="co"># using html_elements(). In this example, each &lt;section&gt; corresponds</span></span></span>
<span class="r-in"><span><span class="co"># to a different film</span></span></span>
<span class="r-in"><span><span class="va">films</span> <span class="op">&lt;-</span> <span class="va">starwars</span> <span class="op">|&gt;</span> <span class="fu"><a href="html_element.html">html_elements</a></span><span class="op">(</span><span class="st">"section"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">films</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {xml_nodeset (7)}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] &lt;section&gt;&lt;h2 data-id="1"&gt;\nThe Phantom Menace\n&lt;/h2&gt;\n&lt;p&gt;\nRelea ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] &lt;section&gt;&lt;h2 data-id="2"&gt;\nAttack of the Clones\n&lt;/h2&gt;\n&lt;p&gt;\nRel ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] &lt;section&gt;&lt;h2 data-id="3"&gt;\nRevenge of the Sith\n&lt;/h2&gt;\n&lt;p&gt;\nRele ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] &lt;section&gt;&lt;h2 data-id="4"&gt;\nA New Hope\n&lt;/h2&gt;\n&lt;p&gt;\nReleased: 197 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] &lt;section&gt;&lt;h2 data-id="5"&gt;\nThe Empire Strikes Back\n&lt;/h2&gt;\n&lt;p&gt;\n ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] &lt;section&gt;&lt;h2 data-id="6"&gt;\nReturn of the Jedi\n&lt;/h2&gt;\n&lt;p&gt;\nRelea ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] &lt;section&gt;&lt;h2 data-id="7"&gt;\nThe Force Awakens\n&lt;/h2&gt;\n&lt;p&gt;\nReleas ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Then use html_element() to extract one element per film. Here</span></span></span>
<span class="r-in"><span><span class="co"># we the title is given by the text inside &lt;h2&gt;</span></span></span>
<span class="r-in"><span><span class="va">title</span> <span class="op">&lt;-</span> <span class="va">films</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="html_element.html">html_element</a></span><span class="op">(</span><span class="st">"h2"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="html_text.html">html_text2</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">title</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "The Phantom Menace"      "Attack of the Clones"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "Revenge of the Sith"     "A New Hope"             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "The Empire Strikes Back" "Return of the Jedi"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "The Force Awakens"      </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or use html_attr() to get data out of attributes. html_attr() always</span></span></span>
<span class="r-in"><span><span class="co"># returns a string so we convert it to an integer using a readr function</span></span></span>
<span class="r-in"><span><span class="va">episode</span> <span class="op">&lt;-</span> <span class="va">films</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="html_element.html">html_element</a></span><span class="op">(</span><span class="st">"h2"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="html_attr.html">html_attr</a></span><span class="op">(</span><span class="st">"data-id"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/parse_atomic.html" class="external-link">parse_integer</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">episode</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3 4 5 6 7</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

